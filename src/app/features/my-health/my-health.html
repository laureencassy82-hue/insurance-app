<section class="bg-gray-page flex flex-col items-center">
  <div class="min-h-screen flex flex-col md:flex-row bg-purple-700 p-4 md:p-14 gap-9 w-full">

    <!-- Right Section: Selected Plan or BrightLife -->
    <div class="w-full lg:w-1/3 flex flex-col h-auto self-start overflow-hidden mt-6 lg:mt-0 order-1 md:order-2">
 
      <!-- Show selected plan -->
      <ng-container *ngIf="selectedPlan; else promoCard">

        <!-- Silver Plan -->
        <div *ngIf="selectedPlan === 'silver'" class="bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden">
          <div class="bg-[linear-gradient(to_bottom,_#DEB97E,_#BF905B)] text-black p-6">
            <h2 class="text-2xl font-bold text-center tracking-wide break-words">
              {{ 'SELECT_PLAN.SILVER.TITLE' | translate }}
            </h2>
            <p class="text-4xl font-bold text-center break-words">
              {{ 'SELECT_PLAN.SILVER.PRICE' | translate }}
            </p>
          </div>
          <div class="p-6 flex-1 flex flex-col justify-between">
            <p class="mt-4 text-2xl font-semibold text-gray-900 break-words">
              {{ 'SELECT_PLAN.SILVER.COVERAGE' | translate }}
            </p>
            <p class="text-base text-gray-700 mt-3 leading-relaxed break-words">
              {{ 'SELECT_PLAN.SILVER.BENEFITS' | translate }}
            </p>
            <p class="mt-5 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.POLICY_TERM' | translate }}
            </p>
            <p class="mt-3 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.PREMIUM_FREQUENCY' | translate }}
            </p>
          </div>
        </div>

        <!-- Gold Plan -->
        <div *ngIf="selectedPlan === 'gold'" class="bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden">
          <div class="bg-[linear-gradient(to_bottom,_#DFDEDF,_#A2A0A1)] text-black p-6">
            <h2 class="text-2xl font-bold text-center tracking-wide break-words">
              {{ 'SELECT_PLAN.GOLD.TITLE' | translate }}
            </h2>
            <p class="text-4xl font-bold text-center break-words">
              {{ 'SELECT_PLAN.GOLD.PRICE' | translate }}
            </p>
          </div>
          <div class="p-6 flex-1 flex flex-col justify-between">
            <p class="mt-4 text-2xl font-semibold text-gray-900 break-words">
              {{ 'SELECT_PLAN.GOLD.COVERAGE' | translate }}
            </p>
            <p class="text-base text-gray-700 mt-3 leading-relaxed break-words">
              {{ 'SELECT_PLAN.GOLD.BENEFITS' | translate }}
            </p>
            <p class="mt-5 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.POLICY_TERM' | translate }}
            </p>
            <p class="mt-3 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.PREMIUM_FREQUENCY' | translate }}
            </p>
          </div>
        </div>

        <!-- Diamond Plan -->
        <div *ngIf="selectedPlan === 'diamond'" class="bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden">
          <div class="bg-[linear-gradient(to_bottom,_#DBCC6E,_#A28645)] text-black p-6">
            <h2 class="text-2xl font-bold text-center tracking-wide break-words">
              {{ 'SELECT_PLAN.DIAMOND.TITLE' | translate }}
            </h2>
            <p class="text-4xl font-bold text-center break-words">
              {{ 'SELECT_PLAN.DIAMOND.PRICE' | translate }}
            </p>
          </div>
          <div class="p-6 flex-1 flex flex-col justify-between">
            <p class="mt-4 text-2xl font-semibold text-gray-900 break-words">
              {{ 'SELECT_PLAN.DIAMOND.COVERAGE' | translate }}
            </p>
            <p class="text-base text-gray-700 mt-3 leading-relaxed break-words">
              {{ 'SELECT_PLAN.DIAMOND.BENEFITS' | translate }}
            </p>
            <p class="mt-5 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.POLICY_TERM' | translate }}
            </p>
            <p class="mt-3 text-lg text-gray-800 break-words">
              {{ 'SELECT_PLAN.PREMIUM_FREQUENCY' | translate }}
            </p>
          </div>
        </div>

      </ng-container>

      <!-- fallback BrightLife promo if no plan selected -->
      <ng-template #promoCard>
        <div class="bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden">
          <h2 class="bg-yellow-500 text-center text-black text-2xl font-bold p-4 m-0">
            {{ 'BRIGHTLIFE.TITLE' | translate }}
          </h2>
          <div class="p-6 text-left text-black">
            <p class="text-sm leading-relaxed">
              {{ 'BRIGHTLIFE.DESCRIPTION' | translate }}
            </p>
          </div>
          <img src="assets/images/my-health.png" alt="Brightlife Promotion" class="w-full object-cover"/>
        </div>
      </ng-template>

    </div>

    <!-- Left Section: My Health Form -->
    <div class="w-full md:w-3/5 flex flex-col items-center order-2 md:order-1">
      <div class="w-full bg-white rounded-lg shadow-lg flex flex-col justify-center items-center overflow-hidden">

        <!-- Header -->
        <div class="w-full h-16 flex items-center justify-center border-b border-gray-300">
          <h2 class="font-bold text-xl md:text-2xl text-black text-center">
            {{ 'MY_HEALTH.TITLE' | translate }}
          </h2>
        </div>

        <!-- Form Container -->
        <div class="w-full p-10 md:p-10">
          <form class="flex flex-col space-y-6 text-gray-800 w-full">

                      <!-- Question 1 -->
            <div #question1Ref>
              <app-health-question
                [questionText]="'MY_HEALTH.QUESTION1' | translate"
                [details]="'MY_HEALTH.QUESTION1_DETAILS' | translate"
                [options]="['MY_HEALTH.OPTIONS.YES' | translate, 'MY_HEALTH.OPTIONS.NO' | translate]"
                [(answer)]="question1">
              </app-health-question>
              <small class="text-red-500 text-xs mt-1" *ngIf="question1Error">please select an answer</small>
            </div>

            <!-- Question 2 -->
            <div #question2Ref>
              <app-health-question
                [questionText]="'MY_HEALTH.QUESTION2' | translate"
                [details]="'MY_HEALTH.QUESTION2_DETAILS' | translate"
                [options]="['MY_HEALTH.OPTIONS.YES' | translate, 'MY_HEALTH.OPTIONS.NO' | translate]"
                [(answer)]="question2">
              </app-health-question>
              <small class="text-red-500 text-xs mt-1" *ngIf="question2Error">please select an answer</small>
            </div>

            <!-- Question 3 -->
            <div #question3Ref>
              <app-health-question
                [questionText]="'MY_HEALTH.QUESTION3' | translate"
                [details]="'MY_HEALTH.QUESTION3_DETAILS' | translate"
                [options]="['MY_HEALTH.OPTIONS.YES' | translate, 'MY_HEALTH.OPTIONS.NO' | translate]"
                [(answer)]="question3">
              </app-health-question>
              <small class="text-red-500 text-xs mt-1" *ngIf="question3Error">please select an answer</small>
            </div>

          </form>
        </div>
      </div>

      <!-- Next Button -->
      <div class="w-full mt-4 text-center border-t-2 border-[#FFD700] pt-4">
        <button
          type="button"
          class="w-full bg-yellow-500 text-black font-semibold py-3 rounded-lg hover:bg-yellow-400 transition-all duration-300"
          (click)="goToConfirmation()">
          {{ 'MY_HEALTH.BUTTON_NEXT' | translate }}
        </button>
      </div>
    </div>

  </div>
</section>
